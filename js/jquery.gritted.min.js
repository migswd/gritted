!function(t,e){"use strict";function i(o,s){function a(){l.hasLayoutChanged()&&l.redispatch()}var l=this,h=l.settings=e.extend({},i.DEFAULTS,o.data(),s);l.$grid=o;var d=o.children().remove().css({position:"absolute",top:-500,left:-500});l.elements=e.map(d,e);var u=h.cols*h.rows;o.html(new Array(u+1).join('<div class="'+h.cellItemsClass+'"></div>')),l.cells=e.map(o.children(),function(t,i){var n=e(t);return n.data("grid-position",new r(l,n,i)),n}),l.columnCount(),d.appendTo(o),l.defineHoles(h.holes),e(t).on("resize orientationchange",n(a,400))}function n(t,e){return e=e||250,function(){var i=this,n=arguments;clearTimeout(t.hnd),t.hnd=setTimeout(function(){t.apply(i,n)},e)}}function o(t){var i={};return t&&-1!==t.indexOf(",")&&e.each(t.split(","),function(t,e){i[e.trim()]=!0}),i}function r(t,e,i){this.grit=t,this.$cell=e,this.index=i}var s=" ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");i.filters={"default":function(){return{}}},i.DEFAULTS={cols:10,rows:5,cellItemsClass:"cell",fadeFiltered:!0,replaceFiltered:!0,minLayout:1,duration:1e3},i.prototype={redispatch:function(){var t,n,o,r,s=this,a=s.settings,l=s.holes,h=s._numberOfColumns<=a.minLayout,d=a.duration,u=s.filterClass,f=a.filteredClass,c=a.filterAnimation,p=a.replaceFiltered,m=s.cells,g=0,v=m.length,w=s.elements,C=0,y=w.length,M=m[0].width(),x=m[0].height();for("function"!=typeof c&&(c=a.filterAnimation=i.filters[c]||i.filters.default);v>g&&y>C;)t=m[g].data("grid-position"),o=!0,r=w[C],(h||!t.isHole(l))&&(r.hasClass(f)?p&&(o=!1):(u&&!r.hasClass(u)?(n=c(s.$grid,w[C],C),a.fadeFiltered&&(n.opacity=0),r.addClass(f),p&&(o=!1)):n=e.extend(t.cssPosition(),{width:M,height:x,opacity:1}),r.animate(n,d)),C++),o&&g++},columnCount:function(){var t=this;return t._numberOfColumns=Math.floor(t.$grid.width()/t.cells[0].outerWidth(!0))},hasLayoutChanged:function(){var t=this._numberOfColumns;return this.columnCount()!==t},filter:function(t,i){var n=this,o=n.settings.filteredClass;t!==n.filterClass&&(o&&e("."+o,n.$grid).removeClass(o),n.filterClass=t,i&&e.extend(n.settings,i),n.redispatch())},defineHoles:function(t){this.holes=o(t),this.redispatch()}},r.prototype={toString:function(){var t=Math.floor(this.index/this.grit._numberOfColumns)+1,e=this.index%this.grit._numberOfColumns+1;return s[t]+e},cssPosition:function(){var t=this.$cell.position();return{top:t.top,left:t.left}},isHole:function(){var t=this.grit.holes;return t[""+this]||t[this.index+1]},makeHole:function(){var t=this.grit;t.holes[""+this]=!0,t.redispatch()},removeHole:function(){delete this.grit.holes[""+this]},toggleHole:function(t){var e=this.grit,i=e.holes,n="index"===t?e.index+1:""+this;i[n]=!i[n],e.redispatch()}},r.prototype.getName=r.prototype.toString,e.fn.gritted=function(t){return"namespace"===t?i:e(this).each(function(n,o){e(o).data("gritted",new i(e(o),t))})}}(window,jQuery||Zepto),function(t,e){function i(t){var e=t.random(),i=e[0],n=e[1];return i+Math.floor(Math.random()*(n-i))}var n={slideLeft:function(t,e){return{left:-Math.floor(Math.random()*t.width())-e.width()}},slideRight:function(t){return{left:t.width()+Math.floor(Math.random()*t.width())}},slideUp:function(t,e){return{top:-Math.floor(Math.random()*t.height())-e.height()}},slideDown:function(t){return{top:t.height()+Math.floor(Math.random()*t.height())}},disappear:function(t,e){var i=e.position(),n=e.width(),o=e.height();return{top:i.top+o/2,left:i.left+n/2,width:0,height:0}},explode:function(t){var e=t.width(),n=t.height();return{top:i([[-.5*n,-.1*n],[1.1*n,1.5*n]]),left:i([[-.5*e,-.1*e],[1.1*e,1.3*e]])}},implode:function(t){var e=Math.floor(t.width()/2),i=Math.floor(t.height()/2);return{top:i,left:e,width:0,height:0}},random:function(t,e,i){return n[Object.keys(n).random()](t,e,i)}};Array.prototype.random=function(){return this[Math.floor(Math.random()*this.length)]};var o=e.fn.gritted;o&&e.extend(o("namespace").filters,n)}(window,jQuery||Zepto);