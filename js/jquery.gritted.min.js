!function(t,e){"use strict";function i(r,s){function o(){l.hasLayoutChanged()&&l.redispatch()}var l=this;l.settings=e.extend({},i.DEFAULTS,r.data(),s),l.$grid=r;var h=r.children().remove().css({position:"absolute",top:-500,left:-500});l.elements=e.map(h,e);var a=l.settings.cols*l.settings.rows;r.html(new Array(a+1).join('<div class="'+l.settings.fillItemsClass+'"></div>'));var f=r.children();l.gridItems=e.map(f,e),l.columnCount(),h.appendTo(r),l.defineHoles(l.settings.holes),e(t).on("resize",n(o,400))}function n(t,e){return e=e||250,function(){var i=this,n=arguments;clearTimeout(t.hnd),t.hnd=setTimeout(function(){t.apply(i,n)},e)}}function r(t){var i={};return t&&-1!==t.indexOf(",")&&e.each(t.split(","),function(t,e){i[e.trim()]=!0}),i}function s(t,e){this.grit=t,this.index=e}var o=" ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");i.filters={"default":function(){return{}}},i.DEFAULTS={cols:10,rows:10,fillItemsClass:"floating",filteredClass:"filtered",filterOut:"slideLeft",replaceFilteredElements:!0,showHolesForLayoutsOver:1,duration:1e3,easing:""},i.prototype={redispatch:function(){var t,e,n,r,o,l=this,h=l.settings,a=l.holes,f=l._numberOfColumns<=h.showHolesForLayoutsOver,d=h.duration,u=l.filterClass,c=h.filteredClass,g=h.filterOut,m=h.replaceFilteredElements,p=l.gridItems,v=0,C=p.length,w=l.elements,M=0,y=w.length,x=p[0].width(),O=p[0].height();for("string"==typeof g&&(g=l.settings.filterOut=i.filters[g]||i.filters.default);C>v&&y>M;)t=p[v].position(),e=new s(l,v),r=!0,o=w[M],(f||!e.isHole(a))&&(n={left:t.left,top:t.top,width:x,height:O},u&&(o.hasClass(u)||o.hasClass(c)||(n=g(l.$grid,w[M],M),o.addClass(c),m&&(r=!1))),o.text(e).animate(n,d),M++),r&&v++},columnCount:function(){for(var t=1,e=1,i=this.gridItems[0].position().top;this.gridItems[e++].position().top===i;)t++;return this._numberOfColumns=t},hasLayoutChanged:function(){var t=this._numberOfColumns;return this.columnCount()!==t},filter:function(t,i){var n=this,r=n.settings.filteredClass;t!==n.filterClass&&(e("."+r,n.$grid).removeClass(r),n.filterClass=t,i&&e.extend(n.settings,i),n.redispatch())},defineHoles:function(t){this.holes=r(t),this.redispatch()}},Array.prototype.random=function(){return this[Math.floor(Math.random()*this.length)]},s.prototype={toString:function(){var t=Math.floor(this.index/this.grit._numberOfColumns)+1,e=this.index%this.grit._numberOfColumns+1;return o[t]+e},isHole:function(){var t=this.grit.holes;return t[""+this]||t[this.index+1]},makeHole:function(){this.grit.holes[""+this]=!0},removeHole:function(){delete this.grit.holes[""+this]},toggleHole:function(t){var e=this.grit.holes;if("index"===t)e[this.index+1]?delete e[this.index+1]:e[this.index+1]=!0;else{var i=this.getName();e[i]?delete e[i]:e[i]=!0}}},s.prototype.getName=s.prototype.toString,e.fn.gritted=function(t){return"namespace"===t?i:e(this).each(function(n,r){e(r).data("gritted",new i(e(r),t))})}}(window,jQuery||Zepto),function(t,e){function i(t){var e=t.random(),i=e[0],n=e[1];return i+Math.floor(Math.random()*(n-i))}if(e.fn.gritted){var n=e.fn.gritted("namespace");n.filters=e.extend(n.filters,{slideLeft:function(t,e){return{left:-Math.floor(Math.random()*t.width())-e.width()}},slideRight:function(t){return{left:t.width()+Math.floor(Math.random()*t.width())}},slideUp:function(t,e){return{top:-Math.floor(Math.random()*t.height())-e.height()}},slideDown:function(t){return{top:t.height()+Math.floor(Math.random()*t.height())}},explode:function(t){var e=t.width(),n=t.height();return{top:i([[-.5*n,-.1*n],[1.1*n,1.5*n]]),left:i([[-.5*e,-.1*e],[1.1*e,1.3*e]])}},implode:function(t){var e=Math.floor(t.width()/2),i=Math.floor(t.height()/2);return{top:i,left:e,width:0,height:0}}})}}(window,jQuery||Zepto);